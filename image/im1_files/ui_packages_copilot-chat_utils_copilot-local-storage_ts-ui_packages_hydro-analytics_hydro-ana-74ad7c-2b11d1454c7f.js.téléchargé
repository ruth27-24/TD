"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_utils_copilot-local-storage_ts-ui_packages_hydro-analytics_hydro-ana-74ad7c"],{80241:(e,t,r)=>{r.d(t,{W:()=>o});var _=r(75632);let o=new class CopilotFeatureFlags{get embedding(){return(0,_.G7)("copilot_conversational_ux_embedding_update")}get unstickyReferences(){return(0,_.G7)("copilot_conversational_ux_history_refs")}get implicitContext(){return(0,_.G7)("COPILOT_IMPLICIT_CONTEXT")}get customInstructions(){return(0,_.G7)("copilot_chat_custom_instructions")}get personalInstructions(){return(0,_.G7)("copilot_personal_instructions")}get reactMarkdown(){return(0,_.G7)("copilot_react_markdown")}get dotcomUserServerTokens(){return(0,_.G7)("copilot_chat_dotcom_user_server_tokens")}get immersiveFilePreview(){return(0,_.G7)("copilot_immersive_file_preview")}get immersiveIssuePreview(){return(0,_.G7)("copilot_immersive_issue_preview")}get bringYourOwnKey(){return(0,_.G7)("copilot_byok")}get copilotChatInterviewSurvey(){return(0,_.G7)("copilot_chat_interview_survey")}get newImmersiveReferencesUI(){return(0,_.G7)("copilot_new_immersive_references_ui")}get repoCustomInstructions(){return(0,_.G7)("copilot_chat_repo_custom_instructions")}get repoCustomInstructionsPreview(){return(0,_.G7)("copilot_chat_repo_custom_instructions_preview")}get copilotFreeLimitedUser(){return(0,_.G7)("copilot_free_limited_user")}get sharedTopicIndicator(){return(0,_.G7)("copilot_chat_shared_topic_indicator")}get sharedSSOBanner(){return(0,_.G7)("copilot_chat_shared_repo_sso_banner")}get attachImagesImmersive(){return(0,_.G7)("copilot_chat_attach_images")}get copilotChatRetryOnError(){return(0,_.G7)("copilot_chat_retry_on_error")}get immersiveSubthreading(){return(0,_.G7)("copilot_chat_immersive_subthreading")}get copilotChatPersistSubmittedInput(){return(0,_.G7)("copilot_chat_persist_submitted_input")}get customCopilots(){return(0,_.G7)("copilot_custom_copilots")}get bypassIndexingQuota(){return(0,_.G7)("bypass_copilot_indexing_quota")}get reduceTelemetry(){return(0,_.G7)("copilot_dotcom_chat_reduce_telemetry")}get editorUpsells(){return(0,_.G7)("copilot_editor_upsells")}get shareConversation(){return(0,_.G7)("copilot_share_conversation")}get clientDOMSkills(){return(0,_.G7)("copilot_client_dom_skills")}get newMarkdownRenderer(){return(0,_.G7)("copilot_new_markdown_renderer")}get sharedChatInput(){return(0,_.G7)("copilot_chat_shared_chat_input")}get dotcomChatClientSideSkills(){return(0,_.G7)("dotcom_chat_client_side_skills")}get ambientErrorBanner(){return(0,_.G7)("copilot_chat_ambient_error_banner")}get attachFolderReference(){return(0,_.G7)("copilot_attach_folder_reference")}get taskOrientedAssistive(){return(0,_.G7)("copilot_task_oriented_assistive")}get copilotChatThreadSwitchingFix(){return(0,_.G7)("copilot_chat_thread_switching_fix")}get plugins(){return(0,_.G7)("copilot_immersive_plugin_system")}get pipesPlugin(){return(0,_.G7)("copilot_pipes")}get copilotChatOpeningThreadSwitch(){return(0,_.G7)("copilot_chat_opening_thread_switch")}get copilotReadSharedConversation(){return(0,_.G7)("copilot_read_shared_conversation")}get copilotDuplicateThread(){return(0,_.G7)("copilot_duplicate_thread")}get copilotUIRefs(){return(0,_.G7)("copilot_ui_refs")}}},37937:(e,t,r)=>{r.d(t,{J:()=>a});var _=r(45062),o=r(80688),s=r(82610),i=r(80241);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let CopilotLocalStorage=class CopilotLocalStorage{get selectedThreadID(){return this.localStorage.getItem(this.COPILOT_SELECTED_THREAD_ID_STORAGE_KEY)}set selectedThreadID(e){let t=this.COPILOT_SELECTED_THREAD_ID_STORAGE_KEY;if(null==e){this.localStorage.removeItem(t);return}this.localStorage.setItem(t,e)}getModel(e){let t=this.localStorage.getItem(this.COPILOT_SELECTED_MODEL_STORAGE_KEY(e));return null===t?t:JSON.parse(t)}setModel(e,t){this.localStorage.setItem(this.COPILOT_SELECTED_MODEL_STORAGE_KEY(e),JSON.stringify(t))}getPlugin(e){if(!i.W.plugins)return null;let t=this.localStorage.getItem(this.COPILOT_SELECTED_PLUGIN_STORAGE_KEY(e));return t&&"null"!==t?t:null}setPlugin(e,t){this.localStorage.setItem(this.COPILOT_SELECTED_PLUGIN_STORAGE_KEY(e),t??"null")}get settings(){let e=this.localStorage.getItem(this.COPILOT_SETTINGS_STORAGE_KEY(this.selectedThreadID));return null===e?e:JSON.parse(e)}set settings(e){this.localStorage.setItem(this.COPILOT_SETTINGS_STORAGE_KEY(this.selectedThreadID),JSON.stringify(e))}getPanelHeight(){let e=this.localStorage.getItem(this.COPILOT_PANEL_HEIGHT);return e?parseInt(e):this.DEFAULT_PANEL_HEIGHT}setPanelHeight(e){let t=this.COPILOT_PANEL_HEIGHT;this.localStorage.setItem(t,e.toString())}getPanelWidth(){let e=this.localStorage.getItem(this.COPILOT_PANEL_WIDTH);return e?parseInt(e):this.DEFAULT_PANEL_WIDTH}setPanelWidth(e){let t=this.COPILOT_PANEL_WIDTH;this.localStorage.setItem(t,e.toString())}getRepoCustomInstructionsState(){return"false"!==this.localStorage.getItem(this.COPILOT_REPO_CUSTOM_INSTRUCTIONS_STATE_KEY)}setRepoCustomInstructionsState(e){let t=this.COPILOT_REPO_CUSTOM_INSTRUCTIONS_STATE_KEY;this.localStorage.setItem(t,e.toString())}getCollapsedState(){return"false"!==this.sessionStorage.getItem(this.COPILOT_COLLAPSED_STATE_KEY)}setCollapsedState(e){let t=this.COPILOT_COLLAPSED_STATE_KEY;this.sessionStorage.setItem(t,e.toString())}getSelectedTopic(e){return this.localStorage.getItem(this.COPILOT_SELECTED_TOPIC_STORAGE_KEY(e))}setSelectedTopic(e,t){if(null==t){this.localStorage.removeItem(this.COPILOT_SELECTED_TOPIC_STORAGE_KEY(e));return}let r=this.COPILOT_SELECTED_TOPIC_STORAGE_KEY(e);this.localStorage.setItem(r,t)}getSavedMessage(e){return this.localStorage.getItem(this.COPILOT_SAVED_USER_MESSAGE_KEY(e))}setSavedMessage(e,t){this.setSavedMessageFast(e,t)}setSavedMessageFast(e,t){let r=this.COPILOT_SAVED_USER_MESSAGE_KEY(e);if(null==t){this.localStorage.removeItem(r);return}this.localStorage.setItem(r,t)}clearSavedUserMessage(e){this.localStorage.removeItem(this.COPILOT_SAVED_USER_MESSAGE_KEY(e))}getSavedUserMessageOnError(e){return this.localStorage.getItem(this.COPILOT_SAVED_USER_MESSAGE_ON_ERROR_KEY(e))}setSavedUserMessageOnError(e,t){let r=this.COPILOT_SAVED_USER_MESSAGE_ON_ERROR_KEY(e);if(null==t){this.localStorage.removeItem(r);return}this.localStorage.setItem(r,t)}clearSavedUserMessageOnError(e){this.localStorage.removeItem(this.COPILOT_SAVED_USER_MESSAGE_ON_ERROR_KEY(e))}getEntrypointMessage(){return this.localStorage.getItem(this.COPILOT_ENTRYPOINT_MESSAGE_KEY)}setEntrypointMessage(e){if(null==e){this.localStorage.removeItem(this.COPILOT_ENTRYPOINT_MESSAGE_KEY);return}this.localStorage.setItem(this.COPILOT_ENTRYPOINT_MESSAGE_KEY,e)}getCurrentReferences(e){let t=this.COPILOT_CURRENT_REFERENCES_KEY(e),r=this.localStorage.getItem(t);return r?JSON.parse(r):null}setCurrentReferences(e,t){let r=this.COPILOT_CURRENT_REFERENCES_KEY(e),_=t.filter((e,r)=>r===t.findIndex(t=>(0,s.Vb)(e)===(0,s.Vb)(t)));this.localStorage.setItem(r,JSON.stringify(_))}clearCurrentReferences(e){let t=this.COPILOT_CURRENT_REFERENCES_KEY(e);this.localStorage.removeItem(t)}migrateNullThreadToNewThread(e){let t=this.getSavedMessage(null);this.setSavedMessageFast(null,null),t&&this.setSavedMessage(e,t);let r=this.getCurrentReferences(null);this.clearCurrentReferences(null),r&&this.setCurrentReferences(e,r);let _=a.getPlugin(null);a.setPlugin(e,_)}getImmersiveSidebarCollapsedState(){return"true"===localStorage.getItem(this.COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY)}setImmersiveSidebarCollapsedState(e){localStorage.setItem(this.COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY,String(e))}getMeterBannerFlag(){let e=this.localStorage.getItem("COPILOT_METER_BANNER_FLAG");return null===e?null:"true"===e}setMeterBannerFlag(e){this.localStorage.setItem("COPILOT_METER_BANNER_FLAG",String(e))}removeMeterBannerFlag(){this.localStorage.removeItem("COPILOT_METER_BANNER_FLAG")}setCustomCopilotId(e){if(null==e||void 0===e){this.localStorage.removeItem("COPILOT_CUSTOM_COPILOT_ID");return}this.localStorage.setItem("COPILOT_CUSTOM_COPILOT_ID",e.toString())}getCustomCopilotId(){let e=this.localStorage.getItem("COPILOT_CUSTOM_COPILOT_ID");return e?parseInt(e,10):null}getTrialSuccessBannerFlag(){let e=this.tempStorage.getItem("COPILOT_TRIAL_SUCCESS_BANNER_FLAG");return null===e?null:"true"===e}setTrialSuccessBannerFlag(e){this.tempStorage.setItem("COPILOT_TRIAL_SUCCESS_BANNER_FLAG",String(e))}removeTrialSuccessBannerFlag(){this.tempStorage.removeItem("COPILOT_TRIAL_SUCCESS_BANNER_FLAG")}constructor(){l(this,"COPILOT_REPO_CUSTOM_INSTRUCTIONS_STATE_KEY","COPILOT_REPO_CUSTOM_INSTRUCTIONS_STATE_KEY"),l(this,"COPILOT_SELECTED_THREAD_ID_STORAGE_KEY","COPILOT_SELECTED_THREAD_ID_STORAGE_KEY"),l(this,"COPILOT_COLLAPSED_STATE_KEY","COPILOT_COLLAPSED_STATE_KEY"),l(this,"COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY","COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY"),l(this,"COPILOT_PANEL_HEIGHT","COPILOT_PANEL_HEIGHT"),l(this,"DEFAULT_PANEL_HEIGHT",600),l(this,"COPILOT_PANEL_WIDTH","COPILOT_PANEL_WIDTH"),l(this,"COPILOT_ENTRYPOINT_MESSAGE_KEY","COPILOT_ENTRYPOINT_MESSAGE_KEY"),l(this,"DEFAULT_PANEL_WIDTH",480),l(this,"COPILOT_SELECTED_MODEL_STORAGE_KEY",e=>`COPILOT_SELECTED_MODEL_${e}`),l(this,"COPILOT_SELECTED_PLUGIN_STORAGE_KEY",e=>`COPILOT_SELECTED_PLUGIN_${e}`),l(this,"COPILOT_SETTINGS_STORAGE_KEY",e=>`COPILOT_SETTINGS_${e}`),l(this,"COPILOT_SAVED_USER_MESSAGE_KEY",e=>`COPILOT_SAVED_USER_MESSAGE_${e}`),l(this,"COPILOT_SAVED_USER_MESSAGE_ON_ERROR_KEY",e=>`COPILOT_SAVED_USER_MESSAGE_ON_ERROR_${e}`),l(this,"COPILOT_CURRENT_REFERENCES_KEY",e=>`COPILOT_CURRENT_REFERENCES_${e}`),l(this,"COPILOT_SELECTED_TOPIC_STORAGE_KEY",e=>`COPILOT_SELECTED_TOPIC_${e}`),l(this,"localStorage",(0,o.A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:864e5})),l(this,"tempStorage",(0,o.A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:18e5})),l(this,"sessionStorage",(0,o.A)("sessionStorage",{throwQuotaErrorsOnSet:!1,ttl:864e5}))}};!function(e,t,r,_){var o,s=arguments.length,i=s<3?t:null===_?_=Object.getOwnPropertyDescriptor(t,r):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,_);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);s>3&&i&&Object.defineProperty(t,r,i)}([(0,_.s)(100)],CopilotLocalStorage.prototype,"setSavedMessage",null);let a=new CopilotLocalStorage},46988:(e,t,r)=>{let _;r.d(t,{BI:()=>O,Ti:()=>T,lA:()=>c});var o=r(70837),s=r(18679),i=r(80688),l=r(57516);let{getItem:a}=(0,i.A)("localStorage"),n="dimension_",E=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,o.O)("octolytics");delete e.baseContext,_=new s.s(e)}catch{}function S(e){let t=(0,o.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(n)&&(t[e.replace(n,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,_]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))E.includes(e.toLowerCase())&&(t[e]=_);return t.staff=(0,l.X)().toString(),Object.assign(t,e)}function c(e){_?.sendPageView(S(e))}function O(e,t={}){let r=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,o=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(o[e]=`${r}`);_&&(S(o),_.sendEvent(e||"unknown",S(o)))}function T(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_utils_copilot-local-storage_ts-ui_packages_hydro-analytics_hydro-ana-74ad7c-e384a8872065.js.map